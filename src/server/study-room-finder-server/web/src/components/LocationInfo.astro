---
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";

import StatBar from "@/components/StatBar";

let { roomName, isLive /*, occupancyAmount, volumePercent */ } = Astro.props;

// sample vals for testing
const occupancyAmount = Math.random() * 60 + 20;
const volumePercent = Math.random() * 60 + 20;
---

<Card className="w-full h-3/4 my-6">
    <CardHeader>
        <CardTitle>
            {roomName}
            <div class="text-xs font-normal my-1"
                >{
                    isLive ? (
                        <>
                            <span class="text-[8pt]">ðŸ”´&nbsp;</span>
                            <span>Live</span>
                        </>
                    ) : (
                        <>
                            <span class="text-[8pt]">âšª&nbsp;</span>
                            <span>Offline</span>
                        </>
                    )
                }</span
            >
        </CardTitle>
    </CardHeader>
    <CardContent>
        <StatBar
            client:load
            {...{ descriptorLabel: "Occupancy", value: occupancyAmount, roomName }}
        />
        <StatBar client:load {...{ descriptorLabel: "Volume", value: volumePercent, roomName }} />
    </CardContent>
</Card>
